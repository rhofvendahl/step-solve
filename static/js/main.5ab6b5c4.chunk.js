(this["webpackJsonpstep-solve"]=this["webpackJsonpstep-solve"]||[]).push([[0],[,,,,,,,,,function(e,r,t){},function(e,r,t){},,function(e,r,t){},function(e,r,t){},function(e,r,t){},function(e,r,t){},function(e,r,t){},function(e,r,t){},function(e,r,t){"use strict";t.r(r);var n=t(1),a=t.n(n),o=t(4),i=t.n(o),l=(t(9),t(2)),u=(t(10),t(0)),s=function(e){var r=e.content;return Object(u.jsx)(u.Fragment,{children:r})},c=(t(12),function(e){var r=e.value,t=e.onChange;return Object(u.jsx)(s,{content:Object(u.jsx)("div",{className:"item-input",children:Object(u.jsx)("input",{type:"text",value:r,onChange:function(e){return t(e)}})})})}),v=function(e){var r=e.map((function(e){return e.value.toString()})).join(" ");return r=r.split("neg (").join("-(")},p=function(e){if(isNaN(Number(e))||""===e)throw new Error("User Error: Literal not recognized.");return 2===e.split(".").length?{type:"number",value:parseFloat(e)}:{type:"number",value:parseInt(e)}},f=function(e){for(var r=[],t=0;t<e.length;t++)if("neg"===e[t].value){if(t+1>=e.length)throw new Error('Internal Error: Expression cannot end with a "neg" operator.');var n=e[t+1];if("("===n.value)r.push({type:"operator",value:"neg"});else{if("number"!=typeof n.value)throw new Error('Internal Error: "neg"s must be followed by "(" or a number.');var a=-1*n.value;0===n.value&&(a=0),r.push({type:"number",value:a}),t+=1}}else r.push({type:e[t].type,value:e[t].value});return r},h=function(e){if(1===e.length){if("operator"===e[0].type)throw new Error("User Error: Expression cannot consist only of an operator.");return[{type:"number",value:e[0].value}]}for(var r=e.map((function(e){return e.value})),t=["^","*","/","+","-"],n=-1,a=0;a<t.length;a++)if(r.includes(t[a])){n=r.indexOf(t[a]);break}if(void 0===n)throw new Error("User Error: Multiple tokens in expression with no operator.");if(0===n)throw new Error("User Error: Expression cannot start with an operator.");if(n===e.length-1)throw new Error("User Error: Expression cannot end with an operator.");var o=void 0,i=e[n-1],l=e[n+1],u=e[n];if("number"!==typeof i.value||"number"!==typeof l.value)throw new Error('User Error: "'+u.value+'" operator requires numeric operands.');var s=void 0;if("^"===u.value?s=Math.pow(i.value,l.value):"*"===u.value?s=i.value*l.value:"/"===u.value?s=i.value/l.value:"+"===u.value?s=i.value+l.value:"-"===u.value&&(s=i.value-l.value),void 0===s)throw new Error('Internal Error: "'+u.value+'" operator not recognized.');if(void 0===(o={type:"number",value:s}))throw new Error("Internal error: performSimpleOperation function failed.");var c=e.slice(0,n-1).map((function(e){return{type:e.type,value:e.value}})),v=e.slice(n+2).map((function(e){return{type:e.type,value:e.value}}));return c.concat([o]).concat(v)},d=function(e){for(var r=void 0,t=void 0,n=0;n<e.length;n++)if("("===e[n].value)r=n;else if(")"===e[n].value){t=n;break}if(void 0===r!==(void 0===t))throw new Error("User Error: Mismatched parentheses.");var a=void 0;if(void 0!==r&&void 0!==t){var o=e.slice(r+1,t);if(0===o.length)throw new Error("User Error: Parentheses cannot be empty.");var i=h(o);if(1===i.length&&"number"===i[0].type){var l=e.slice(0,r).map((function(e){return{type:e.type,value:e.value}})),u=e.slice(t+1).map((function(e){return{type:e.type,value:e.value}}));a=l.concat(i).concat(u)}else{var s=e.slice(0,r+1).map((function(e){return{type:e.type,value:e.value}})),c=e.slice(t).map((function(e){return{type:e.type,value:e.value}}));a=s.concat(i).concat(c)}}else a=h(e);if(void 0!==a)return a=f(a);throw new Error('Internal Error: "performOperation" function failed.')},m=function(e){try{var r=function(e){for(var r=[],t=0;t<e.length;t++)if(isNaN(parseInt(e.charAt(t)))&&"."!==e.charAt(t)){if("()^*/+-".includes(e.charAt(t))){var n={type:"operator",value:e.charAt(t)};r.push(n)}else if(" "!==e.charAt(t))throw new Error('User Error: "'+e[t]+'" is not a valid character.')}else{for(var a=t;a<e.length&&(!isNaN(parseInt(e.charAt(a)))||"."===e.charAt(a));)a+=1;var o=e.slice(t,a),i=p(o);r.push(i),t=a-1}return r}(e);if(r=function(e){for(var r=[],t=0;t<e.length;t++)if("-"===e[t].value){var n=!0;(t+1===e.length||"operator"===e[t+1].type&&"("!==e[t+1].value||t>0&&"number"===e[t-1].type||t+2<e.length&&"^"===e[t+2].value)&&(n=!1),n?r.push({type:"operator",value:"neg"}):r.push({type:"operator",value:"-"})}else r.push({type:e[t].type,value:e[t].value});return r}(r),0===(r=f(r)).length)return[];if(1===r.length&&"operator"===r[0].type)throw new Error("User Error: Expression cannot consist of a single operator.");for(var t=[r];t[t.length-1].length>1;)r=t[t.length-1],r=d(r),t.push(r);return t}catch(n){return n}},j=(t(13),function(e){var r=e.initial,t=void 0!==r&&r,n=e.step;return Object(u.jsx)(s,{content:Object(u.jsx)("div",{className:t?"item item-step item-step-initial":"item item-step item-step-next",children:v(n)})})}),b=(t(14),function(e){var r=e.description;return Object(u.jsx)(s,{content:Object(u.jsx)("div",{className:"item item-description",children:r})})}),g=(t(15),function(e){var r=e.error;return Object(u.jsx)(s,{content:function(){var e="";return null!==r&&(e=r.message),Object(u.jsx)("div",{className:"item item-error",children:e})}()})}),E=(t(16),function(){var e=a.a.useState(""),r=Object(l.a)(e,2),t=r[0],n=r[1],o=a.a.useState(null),i=Object(l.a)(o,2),s=i[0],p=i[1],f=a.a.useState(null),h=Object(l.a)(f,2),d=h[0],E=h[1];return Object(u.jsxs)("div",{className:"solver",children:[Object(u.jsxs)("div",{className:"solver-left",children:[Object(u.jsx)(c,{value:t,onChange:function(e){var r=e.target.value;n(r);var t=m(r);t instanceof Error?(console.log(t.message),p(null),E(t)):(t.forEach((function(e){console.log(v(e))})),p(t),E(null))}}),null!==s&&s.length>1?s.slice(1).map((function(e,r){return Object(u.jsx)(b,{description:"[Description text.]"},r)})):null]}),Object(u.jsx)("div",{className:"solver-middle"}),Object(u.jsx)("div",{className:"solver-right",children:null!==s&&0===s.length?null:null!==s&&s.length>0?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(j,{initial:!0,step:s[0]}),s.slice(1).map((function(e,r){return Object(u.jsx)(j,{step:e},r)}))]}):null!==d?Object(u.jsx)(g,{error:d}):Object(u.jsx)(g,{error:new Error("Internal Error: Evaluation not available.")})})]})}),w=(t(17),function(){return Object(u.jsx)("div",{className:"app",children:Object(u.jsx)(E,{})})});i.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(w,{})}),document.getElementById("root"))}],[[18,1,2]]]);
//# sourceMappingURL=main.5ab6b5c4.chunk.js.map